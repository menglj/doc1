# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2025 Sonicwell Technology Ltd.
# This file is distributed under the same license as the WCC package.
# FIRST AUTHOR <EMAIL@ADDRESS>, 2025.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: WCC 0.1.0\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2025-02-07 16:52+0900\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language: zh_CN\n"
"Language-Team: zh_CN <LL@li.org>\n"
"Plural-Forms: nplurals=1; plural=0;\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=utf-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Generated-By: Babel 2.17.0\n"

#: ../../语音服务专有云部署文档.md:1
msgid "阿里云智能语音交互服务部署手册"
msgstr ""

#: ../../语音服务专有云部署文档.md:3
msgid "阿里云智能语音交互"
msgstr ""

#: ../../语音服务专有云部署文档.md:5
msgid "2018.3"
msgstr ""

#: ../../语音服务专有云部署文档.md:7
#, python-brace-format
msgid "目录 {#目录 .TOC-Heading}"
msgstr ""

#: ../../语音服务专有云部署文档.md:9
msgid "[1. 前提准备 [4](#前提准备)](#前提准备)"
msgstr ""

#: ../../语音服务专有云部署文档.md:11
msgid "[2. 名词解释 [4](#名词解释)](#名词解释)"
msgstr ""

#: ../../语音服务专有云部署文档.md:13
msgid "[3. 硬件配置要求(最小资源) [5](#硬件配置要求最小资源)](#硬件配置要求最小资源)"
msgstr ""

#: ../../语音服务专有云部署文档.md:16
msgid "[4. 系统整体架构 [7](#系统整体架构)](#系统整体架构)"
msgstr ""

#: ../../语音服务专有云部署文档.md:18
msgid "[4.1 最小环境下系统结构 [7](#最小环境下系统结构)](#最小环境下系统结构)"
msgstr ""

#: ../../语音服务专有云部署文档.md:20
msgid "[4.2 正式环境下系统结构 [8](#正式环境下系统结构)](#正式环境下系统结构)"
msgstr ""

#: ../../语音服务专有云部署文档.md:22
msgid "[5. 配置Java环境 [9](#配置java环境)](#配置java环境)"
msgstr ""

#: ../../语音服务专有云部署文档.md:24
msgid "[6. LicenseServer [9](#licenseserver)](#licenseserver)"
msgstr ""

#: ../../语音服务专有云部署文档.md:26
msgid "[7. Tengine [9](#tengine)](#tengine)"
msgstr ""

#: ../../语音服务专有云部署文档.md:28
msgid "[7.1 二进制安装 [9](#二进制安装)](#二进制安装)"
msgstr ""

#: ../../语音服务专有云部署文档.md:30
msgid "[7.2 编译安装 [9](#编译安装)](#编译安装)"
msgstr ""

#: ../../语音服务专有云部署文档.md:32
msgid "[7.3 接入层nginx配置说明 [10](#接入层nginx配置说明)](#接入层nginx配置说明)"
msgstr ""

#: ../../语音服务专有云部署文档.md:35
msgid ""
"[7.4 应用层nginx配置说明(可选，单台ASR或TTS时不需要) "
"[11](#应用层nginx配置说明可选单台asr或tts时不需要)](#应用层nginx配置说明可选单台asr或tts时不需要)"
msgstr ""

#: ../../语音服务专有云部署文档.md:38
msgid "[8. Diting [12](#diting)](#diting)"
msgstr ""

#: ../../语音服务专有云部署文档.md:40
msgid "[8.1 解压缩 [12](#解压缩)](#解压缩)"
msgstr ""

#: ../../语音服务专有云部署文档.md:42
msgid "[8.2 修改配置 [12](#修改配置)](#修改配置)"
msgstr ""

#: ../../语音服务专有云部署文档.md:44
msgid "[8.3 启动 [13](#启动)](#启动)"
msgstr ""

#: ../../语音服务专有云部署文档.md:46
msgid "[9. ASR [13](#asr)](#asr)"
msgstr ""

#: ../../语音服务专有云部署文档.md:48
msgid "[9.1 选择版本 [13](#选择版本)](#选择版本)"
msgstr ""

#: ../../语音服务专有云部署文档.md:50
msgid "[9.2 解压缩 [13](#解压缩-1)](#解压缩-1)"
msgstr ""

#: ../../语音服务专有云部署文档.md:52
msgid "[9.3 拷贝配置和模型 [14](#拷贝配置和模型)](#拷贝配置和模型)"
msgstr ""

#: ../../语音服务专有云部署文档.md:54
msgid "[9.4 建立动态链接库 [14](#建立动态链接库)](#建立动态链接库)"
msgstr ""

#: ../../语音服务专有云部署文档.md:56
msgid "[9.5 修改配置 [14](#修改配置-1)](#修改配置-1)"
msgstr ""

#: ../../语音服务专有云部署文档.md:58
msgid "[9.6 启动 [14](#启动-1)](#启动-1)"
msgstr ""

#: ../../语音服务专有云部署文档.md:60
msgid "[10. 测试ASR和TTS [15](#测试asr和tts)](#测试asr和tts)"
msgstr ""

#: ../../语音服务专有云部署文档.md:62
msgid "[11. TTS [15](#tts)](#tts)"
msgstr ""

#: ../../语音服务专有云部署文档.md:64
msgid "[11.1 解压缩 [15](#解压缩-2)](#解压缩-2)"
msgstr ""

#: ../../语音服务专有云部署文档.md:66
msgid "[11.2 修改配置 [15](#修改配置-2)](#修改配置-2)"
msgstr ""

#: ../../语音服务专有云部署文档.md:68
msgid "[11.3 启动 [15](#启动-2)](#启动-2)"
msgstr ""

#: ../../语音服务专有云部署文档.md:70
msgid "[12. SDM(可选) [16](#sdm可选)](#sdm可选)"
msgstr ""

#: ../../语音服务专有云部署文档.md:72
msgid "[12.1 解压缩 [16](#解压缩-3)](#解压缩-3)"
msgstr ""

#: ../../语音服务专有云部署文档.md:74
msgid "[12.2 修改配置 [16](#修改配置-3)](#修改配置-3)"
msgstr ""

#: ../../语音服务专有云部署文档.md:76
msgid "[12.3 启动 [16](#启动-3)](#启动-3)"
msgstr ""

#: ../../语音服务专有云部署文档.md:78
msgid "[13. Kamailio负载(可选) [16](#kamailio负载可选)](#kamailio负载可选)"
msgstr ""

#: ../../语音服务专有云部署文档.md:80
msgid "[13.1 解压缩 [17](#解压缩-4)](#解压缩-4)"
msgstr ""

#: ../../语音服务专有云部署文档.md:82
msgid "[13.2 修改配置 [17](#修改配置-4)](#修改配置-4)"
msgstr ""

#: ../../语音服务专有云部署文档.md:84
msgid "[13.3 启动 [17](#启动-4)](#启动-4)"
msgstr ""

#: ../../语音服务专有云部署文档.md:86
msgid "[14. 自学习平台(SLP) (可选) [17](#自学习平台slp-可选)](#自学习平台slp-可选)"
msgstr ""

#: ../../语音服务专有云部署文档.md:89
msgid "[14.1 Redis [17](#redis)](#redis)"
msgstr ""

#: ../../语音服务专有云部署文档.md:91
msgid "[14.2 Mongodb [18](#mongodb)](#mongodb)"
msgstr ""

#: ../../语音服务专有云部署文档.md:93
msgid "[14.3 ai-container [18](#ai-container)](#ai-container)"
msgstr ""

#: ../../语音服务专有云部署文档.md:95
msgid ""
"[14.4 customization-service [20](#customization-service)](#customization-"
"service)"
msgstr ""

#: ../../语音服务专有云部署文档.md:98
msgid ""
"[14.5 customlm-downloader [21](#customlm-downloader)](#customlm-"
"downloader)"
msgstr ""

#: ../../语音服务专有云部署文档.md:101
msgid "[15. KeepAlived(可选) [22](#keepalived可选)](#keepalived可选)"
msgstr ""

#: ../../语音服务专有云部署文档.md:103
msgid "[16. 转写服务(可选) [25](#转写服务可选)](#转写服务可选)"
msgstr ""

#: ../../语音服务专有云部署文档.md:105
msgid "[17. FAQ [25](#faq)](#faq)"
msgstr ""

#: ../../语音服务专有云部署文档.md:107
msgid "前提准备"
msgstr ""

#: ../../语音服务专有云部署文档.md:109
msgid "熟悉Linux操作；"
msgstr ""

#: ../../语音服务专有云部署文档.md:111
msgid "熟悉tengine(即Nginx)及其负载均衡机制；"
msgstr ""

#: ../../语音服务专有云部署文档.md:113
msgid "所有程序或服务都在/home/admin目录下（可以使用admin账户或root账户）；"
msgstr ""

#: ../../语音服务专有云部署文档.md:115
msgid "所有服务建议均以admin用户启动(注意1024以下端口只能以root用户或具有sudo权限的admin用户启动):"
msgstr ""

#: ../../语音服务专有云部署文档.md:117
msgid "\\# 先用root账户增加admin用户"
msgstr ""

#: ../../语音服务专有云部署文档.md:119
msgid "sudo useradd admin"
msgstr ""

#: ../../语音服务专有云部署文档.md:121
msgid "sudo groupadd admin"
msgstr ""

#: ../../语音服务专有云部署文档.md:123
msgid "sudo passwd admin"
msgstr ""

#: ../../语音服务专有云部署文档.md:125
msgid "\\# 建议为admin增加sudo权限：vim /etc/sudoers文件，增加以下内容"
msgstr ""

#: ../../语音服务专有云部署文档.md:127
msgid "admin   ALL=(ALL)   ALL"
msgstr ""

#: ../../语音服务专有云部署文档.md:129
#, python-brace-format
msgid "假设所有安装包下载在\\`{src_install_dir}\\`目录。"
msgstr ""

#: ../../语音服务专有云部署文档.md:131
msgid "操作系统建议centos 7.2及以上，且最好不要安装最小版操作系统（会导致一些基础依赖库缺失，比如openssl、pcre)。"
msgstr ""

#: ../../语音服务专有云部署文档.md:134
msgid "名词解释"
msgstr ""

#: ../../语音服务专有云部署文档.md:136 ../../语音服务专有云部署文档.md:595
msgid "ASR"
msgstr ""

#: ../../语音服务专有云部署文档.md:138
msgid "应用名：speech-alisr。"
msgstr ""

#: ../../语音服务专有云部署文档.md:140
msgid "用途：语音识别引擎，将语音转为文字。"
msgstr ""

#: ../../语音服务专有云部署文档.md:142
msgid "部署要求：C++应用；着重关注各种基础依赖库导致的启动失败；运行内存至少96G(测试环境);"
msgstr ""

#: ../../语音服务专有云部署文档.md:144 ../../语音服务专有云部署文档.md:691
msgid "TTS"
msgstr ""

#: ../../语音服务专有云部署文档.md:146
msgid "应用名：nls-tts。"
msgstr ""

#: ../../语音服务专有云部署文档.md:148
msgid "用途：语音合成引擎，将文字转为语音。"
msgstr ""

#: ../../语音服务专有云部署文档.md:150
msgid "部署要求：Java应用；提前装好Java 1.8；运行内存至少96G(测试环境);"
msgstr ""

#: ../../语音服务专有云部署文档.md:152 ../../语音服务专有云部署文档.md:547
msgid "Diting"
msgstr ""

#: ../../语音服务专有云部署文档.md:154
msgid "应用名：diting。"
msgstr ""

#: ../../语音服务专有云部署文档.md:156
msgid "用途：与外部服务/负载均衡组件相链接，接收ASR识别请求和TTS请求，Diting可以理解为ASR&TTS引擎与外界相连的中间件。"
msgstr ""

#: ../../语音服务专有云部署文档.md:158
msgid "部署要求：Java应用；提前装好Java 1.8；至少4核8G；"
msgstr ""

#: ../../语音服务专有云部署文档.md:160 ../../语音服务专有云部署文档.md:332
msgid "Tengine"
msgstr ""

#: ../../语音服务专有云部署文档.md:162
msgid "应用名：tengine-2.1.2。"
msgstr ""

#: ../../语音服务专有云部署文档.md:164
msgid "用途：反向代理、负载均衡模块，类比nginx。"
msgstr ""

#: ../../语音服务专有云部署文档.md:166
msgid "部署要求：C应用；提前装好openssl、pcre；至少4核8G；"
msgstr ""

#: ../../语音服务专有云部署文档.md:168
msgid "SDM"
msgstr ""

#: ../../语音服务专有云部署文档.md:170
msgid "应用名：alimrcp-server。"
msgstr ""

#: ../../语音服务专有云部署文档.md:172
msgid "用途：MRCP协议的实现，对外用以和各类呼叫平台(比如华为、avaya、genesys)进行对接，对内集成了ASR、TTS、NLU能力。"
msgstr ""

#: ../../语音服务专有云部署文档.md:174
msgid "部署要求：C++应用；至少4核8G；"
msgstr ""

#: ../../语音服务专有云部署文档.md:176
msgid "Kamailio"
msgstr ""

#: ../../语音服务专有云部署文档.md:178
msgid "应用名：kamailio。"
msgstr ""

#: ../../语音服务专有云部署文档.md:180
msgid "用途：SDM的负载代理，解决SDM单点问题。"
msgstr ""

#: ../../语音服务专有云部署文档.md:182
msgid "KeepAlived"
msgstr ""

#: ../../语音服务专有云部署文档.md:184
msgid "应用名：开源keepalived。"
msgstr ""

#: ../../语音服务专有云部署文档.md:186
msgid "用途：负责接入层的高可用。"
msgstr ""

#: ../../语音服务专有云部署文档.md:188
msgid "nls-trans"
msgstr ""

#: ../../语音服务专有云部署文档.md:190
msgid "应用名：nls-trans。"
msgstr ""

#: ../../语音服务专有云部署文档.md:192
msgid "用途：文件转写服务。"
msgstr ""

#: ../../语音服务专有云部署文档.md:194
msgid "自学习平台"
msgstr ""

#: ../../语音服务专有云部署文档.md:196
msgid "应用名：ai-container、customization-service、customlm-downloader。"
msgstr ""

#: ../../语音服务专有云部署文档.md:198
msgid "用途：专有云自学习平台，用以提升ASR语音识别效果。"
msgstr ""

#: ../../语音服务专有云部署文档.md:200
msgid "部署要求：Java应用；提前装好Java 1.8；至少16核64G；"
msgstr ""

#: ../../语音服务专有云部署文档.md:202
msgid "硬件配置要求(最小资源)"
msgstr ""

#: ../../语音服务专有云部署文档.md:204
msgid ""
"+-----+-----+-----------+----------+------+------+------+-----+-----+ | 项"
"  | 功  | 应用      | CPU      | 核数 | 内存 | 硬盘 | 台  | 备  | | 目  | 能  |"
"           |          |      |      |      | 数  | 注  | "
"+:===:+:===:+:=========:+:========:+:====:+:====:+:====:+:===:+:===:+ | 1"
"   | 语  | ASR       | v        | 32物 | 128G | 1T   | 1   | 必  | |     |"
"     |           | 5-2682v4 | 理核 |      |      |     | 选  | |     | 音  |"
"           |          |      |      |      |     |     | |     |     |"
"           |          |      |      |      |     |     | |     | 核  |"
"           |          |      |      |      |     |     | |     |     |"
"           |          |      |      |      |     |     | |     | 心  |"
"           |          |      |      |      |     |     | |     |     |"
"           |          |      |      |      |     |     | |     | 能  |"
"           |          |      |      |      |     |     | |     |     |"
"           |          |      |      |      |     |     | |     | 力  |"
"           |          |      |      |      |     |     | "
"+-----+-----+-----------+----------+------+------+------+-----+-----+ |"
"     |     | TTS       | v        | 28物 | 128G | 600G | 1   | 必  | |     "
"|     |           | 5-2683v4 | 理核 |      |      |     | 选  | "
"+-----+-----+-----------+----------+------+------+------+-----+-----+ |"
"     |     | Diting    | 虚拟机   | 4C   | 8G   | 500G | 1   | 必  | |     |"
"     |           |          |      |      |      |     | 选  | "
"+-----+-----+-----------+----------+------+------+------+-----+-----+ |"
"     |     | Nginx     | 虚拟机   | 4C   | 8G   | 500G | 1   | 必  | |     |"
"     |           |          |      |      |      |     | 选  | "
"+-----+-----+-----------+----------+------+------+------+-----+-----+ | 2"
"   | M   | SDM       | 虚拟机   | 8C   | 16G  | 600G | 1   | 在  | |     |"
"     |           |          |      |      |      |     | 客  | |     | R"
"   |           |          |      |      |      |     | 户  | |     |     |"
"           |          |      |      |      |     | 有  | |     | C   |"
"           |          |      |      |      |     | 呼  | |     |     |"
"           |          |      |      |      |     | 叫  | |     | P   |"
"           |          |      |      |      |     | 平  | |     |     |"
"           |          |      |      |      |     | 台  | |     | 协  |"
"           |          |      |      |      |     | 情  | |     |     |"
"           |          |      |      |      |     | 况  | |     | 议  |"
"           |          |      |      |      |     | 下  | |     |     |"
"           |          |      |      |      |     | 必  | |     | 层  |"
"           |          |      |      |      |     | 选  | "
"+-----+-----+-----------+----------+------+------+------+-----+-----+ |"
"     |     | Kamailio  | 虚拟机   | 8C   | 16G  | 600G | 1   | 同  | |     |"
"     |           |          |      |      |      |     | 上  | "
"+-----+-----+-----------+----------+------+------+------+-----+-----+ | 3"
"   | A   | AI-C      | 虚拟机   | 16C  | 64G  | 1T   | 1   | 在  | |     |"
"     | ontainner |          |      |      |      |     | 有  | |     | S"
"   |           |          |      |      |      |     | 自  | |     |     |"
"           |          |      |      |      |     | 学  | |     | R   |"
"           |          |      |      |      |     | 习  | |     |     |"
"           |          |      |      |      |     | 定  | |     | 自  |"
"           |          |      |      |      |     | 制  | |     |     |"
"           |          |      |      |      |     | 需  | |     | 学  |"
"           |          |      |      |      |     | 求  | |     |     |"
"           |          |      |      |      |     | 场  | |     | 习  |"
"           |          |      |      |      |     | 景  | |     |     |"
"           |          |      |      |      |     | 下  | |     | 平  |"
"           |          |      |      |      |     | 必  | |     |     |"
"           |          |      |      |      |     | 选  | |     | 台  |"
"           |          |      |      |      |     |     | "
"+-----+-----+-----------+----------+------+------+------+-----+-----+ |"
"     |     | customiz  | 虚拟机   | 4C   | 8G   | 500G | 1   | 同  | |     |"
"     | ation-ser |          |      |      |      |     | 上  | |     |"
"     | vice(SLP) |          |      |      |      |     |     | "
"+-----+-----+-----------+----------+------+------+------+-----+-----+ |"
"     |     | Mong      | v        | 16C  | 64G  | 1T   | 1   | 同  | |"
"     |     | oDB&Redis | 5-2683v4 |      |      |      |     | 上  | "
"+-----+-----+-----------+----------+------+------+------+-----+-----+"
msgstr ""

#: ../../语音服务专有云部署文档.md:270
msgid "系统整体架构"
msgstr ""

#: ../../语音服务专有云部署文档.md:272
msgid "最小环境下系统结构"
msgstr ""

#: ../../语音服务专有云部署文档.md:274
#, python-brace-format
msgid ""
"![](./images/media/image1.png){width=\"6.0in\" "
"height=\"6.414583333333334in\"}"
msgstr ""

#: ../../语音服务专有云部署文档.md:277 ../../语音服务专有云部署文档.md:290
msgid "说明："
msgstr ""

#: ../../语音服务专有云部署文档.md:279
msgid "该部署架构属于简化版部署，属于在poc阶段或测试环境下的架构；"
msgstr ""

#: ../../语音服务专有云部署文档.md:281
msgid "ASR、TTS服务本身各自需要一台高配服务器；"
msgstr ""

#: ../../语音服务专有云部署文档.md:283
msgid "SDM、Tengine、Diting、LicenseServer可以共用一台机器（至少8C16G）；"
msgstr ""

#: ../../语音服务专有云部署文档.md:285
msgid "正式环境下系统结构"
msgstr ""

#: ../../语音服务专有云部署文档.md:287
#, python-brace-format
msgid ""
"![](./images/media/image2.png){width=\"6.0in\" "
"height=\"6.053472222222222in\"}"
msgstr ""

#: ../../语音服务专有云部署文档.md:292
msgid "该部署架构基于属于正式环境下的高可用部署；"
msgstr ""

#: ../../语音服务专有云部署文档.md:294
msgid "ASR、TTS服务本身各自需要多台高配服务器进行负载；"
msgstr ""

#: ../../语音服务专有云部署文档.md:296
msgid "所有服务不建议共用服务器，各服务所需的机器配置已在上一章节提供；"
msgstr ""

#: ../../语音服务专有云部署文档.md:298
msgid "应用层Tengine如果是多台，可以通过keepalived的vip进行访问；"
msgstr ""

#: ../../语音服务专有云部署文档.md:300
msgid "LicenseServer至少需要一台，建议多台（机器挂掉之后所有ASR、TTS都无法提供服务），部署台数为2N+1；"
msgstr ""

#: ../../语音服务专有云部署文档.md:302
msgid "SDM接入层负载比较轻，如果需要部署两台进行高可用，仍可以通过部署keepalived，对外提供vip访问；"
msgstr ""

#: ../../语音服务专有云部署文档.md:304
msgid "配置Java环境"
msgstr ""

#: ../../语音服务专有云部署文档.md:306
msgid "解压缩："
msgstr ""

#: ../../语音服务专有云部署文档.md:308
#, python-brace-format
msgid "\\# cd {src_install_dir}/Java/"
msgstr ""

#: ../../语音服务专有云部署文档.md:310
msgid "\\# tar zxvf jdk-8u101-linux-x64.tar.gz"
msgstr ""

#: ../../语音服务专有云部署文档.md:312
msgid "sudo mv jdk1.8.0_101 /usr/local/"
msgstr ""

#: ../../语音服务专有云部署文档.md:314
msgid "配置环境变量\\`sudo vim /etc/profile\\`，增加以下内容："
msgstr ""

#: ../../语音服务专有云部署文档.md:316
msgid "\\# export JAVA_HOME=/usr/local/jdk1.8.0_101"
msgstr ""

#: ../../语音服务专有云部署文档.md:318
#, python-brace-format
msgid "\\# export PATH=\\${JAVA_HOME}/bin:\\$PATH"
msgstr ""

#: ../../语音服务专有云部署文档.md:320
msgid "执行命令使配置生效："
msgstr ""

#: ../../语音服务专有云部署文档.md:322
msgid "\\# source /etc/profile \\# 使配置生效"
msgstr ""

#: ../../语音服务专有云部署文档.md:324
msgid "\\# java -version \\# 验证java版本"
msgstr ""

#: ../../语音服务专有云部署文档.md:326
msgid "LicenseServer"
msgstr ""

#: ../../语音服务专有云部署文档.md:328
msgid "即apes服务，具体安装及使用可以查看LicenseServer目录下的安装文档。"
msgstr ""

#: ../../语音服务专有云部署文档.md:330
msgid "注意：在启动其他语音服务前，需提前安装此服务、申请授权码之后才可以。"
msgstr ""

#: ../../语音服务专有云部署文档.md:334
msgid "Tengine即Nginx，主要用来做服务间的负载均衡。"
msgstr ""

#: ../../语音服务专有云部署文档.md:336
msgid "注意："
msgstr ""

#: ../../语音服务专有云部署文档.md:338
msgid "如果需要进行TTS服务的负载，需要在编译Tengine时加入第三方模块。"
msgstr ""

#: ../../语音服务专有云部署文档.md:340
msgid "部署前操作系统可能需要额外安装一些依赖服务，比如：yum -y install pcre-devel openssl openssl-devel。"
msgstr ""

#: ../../语音服务专有云部署文档.md:343
msgid "Tengine的部署提供两种方式：源码编译或者使用我们已经编译好的二进制程序。"
msgstr ""

#: ../../语音服务专有云部署文档.md:345
msgid "二进制安装"
msgstr ""

#: ../../语音服务专有云部署文档.md:347
msgid "直接使用我们已经编译好的二进制程序："
msgstr ""

#: ../../语音服务专有云部署文档.md:349
#, python-brace-format
msgid "\\# cp {src_install_dir}/Tengine/tengine-2.1.2-bin.tar.gz /home/admin/"
msgstr ""

#: ../../语音服务专有云部署文档.md:351
msgid "\\# cd /home/admin/"
msgstr ""

#: ../../语音服务专有云部署文档.md:353
msgid "\\# tar -xf tengine-2.1.2-bin.tar.gz"
msgstr ""

#: ../../语音服务专有云部署文档.md:355
msgid "编译安装"
msgstr ""

#: ../../语音服务专有云部署文档.md:357
#, python-brace-format
msgid "\\# cd {src_install_dir}/Tengine/"
msgstr ""

#: ../../语音服务专有云部署文档.md:359
msgid "\\# tar zxvf tengine-2.1.2-src.tar.gz"
msgstr ""

#: ../../语音服务专有云部署文档.md:361
msgid ""
"\\# cp nginx_tcp_proxy_module_v0.4.5.zip tengine-2.1.2/ \\# "
"tcp反向代理(做TTS引擎的负载时需要)"
msgstr ""

#: ../../语音服务专有云部署文档.md:364
msgid "\\# cd tengine-2.1.2"
msgstr ""

#: ../../语音服务专有云部署文档.md:366
msgid "\\# unzip nginx_tcp_proxy_module_v0.4.5.zip"
msgstr ""

#: ../../语音服务专有云部署文档.md:368
msgid "\\# patch -p1 \\< ./nginx_tcp_proxy_module_v0.4.5/tcp.patch \\# 打上补丁"
msgstr ""

#: ../../语音服务专有云部署文档.md:370
msgid "\\# 将安装程序生成在/home/admin/tengine-2.1.2目录"
msgstr ""

#: ../../语音服务专有云部署文档.md:372
#, python-brace-format
msgid ""
"\\# ./configure \\--prefix=/home/admin/tengine-2.1.2 \\--add-"
"module={src_install_dir}/Nginx/nginx_tcp_proxy_module_v0.4.5"
msgstr ""

#: ../../语音服务专有云部署文档.md:375
msgid "\\# make && make install"
msgstr ""

#: ../../语音服务专有云部署文档.md:377
msgid "接入层nginx配置说明"
msgstr ""

#: ../../语音服务专有云部署文档.md:379
msgid "假设配置文件为/home/admin/tengine-2.1.2/nginx-diting.conf，端口号：8000；"
msgstr ""

#: ../../语音服务专有云部署文档.md:381 ../../语音服务专有云部署文档.md:487
msgid "http {"
msgstr ""

#: ../../语音服务专有云部署文档.md:383 ../../语音服务专有云部署文档.md:405 ../../语音服务专有云部署文档.md:445
#: ../../语音服务专有云部署文档.md:489 ../../语音服务专有云部署文档.md:511 ../../语音服务专有云部署文档.md:529
msgid "\\# \\...略\\..."
msgstr ""

#: ../../语音服务专有云部署文档.md:385
msgid "upstream diting {"
msgstr ""

#: ../../语音服务专有云部署文档.md:387
msgid "server diting1:8010;"
msgstr ""

#: ../../语音服务专有云部署文档.md:389
msgid "server diting2:8010;"
msgstr ""

#: ../../语音服务专有云部署文档.md:391
msgid "server diting3:8010;"
msgstr ""

#: ../../语音服务专有云部署文档.md:393 ../../语音服务专有云部署文档.md:499
msgid "check interval=3000 rise=2 fall=5 timeout=1000 type=http;"
msgstr ""

#: ../../语音服务专有云部署文档.md:395
msgid ""
"check_http_send \\\"GET /checkpreload.htm "
"HTTP/1.0\\\\r\\\\n\\\\r\\\\n\\\";"
msgstr ""

#: ../../语音服务专有云部署文档.md:397 ../../语音服务专有云部署文档.md:503
msgid "check_http_expect_alive http_2xx http_3xx;"
msgstr ""

#: ../../语音服务专有云部署文档.md:399 ../../语音服务专有云部署文档.md:423 ../../语音服务专有云部署文档.md:441
#: ../../语音服务专有云部署文档.md:443 ../../语音服务专有云部署文档.md:447 ../../语音服务专有云部署文档.md:475
#: ../../语音服务专有云部署文档.md:483 ../../语音服务专有云部署文档.md:485 ../../语音服务专有云部署文档.md:505
#: ../../语音服务专有云部署文档.md:527 ../../语音服务专有云部署文档.md:531 ../../语音服务专有云部署文档.md:1164
#: ../../语音服务专有云部署文档.md:1174 ../../语音服务专有云部署文档.md:1194
#: ../../语音服务专有云部署文档.md:1200 ../../语音服务专有云部署文档.md:1202
#: ../../语音服务专有云部署文档.md:1215 ../../语音服务专有云部署文档.md:1225
#: ../../语音服务专有云部署文档.md:1245 ../../语音服务专有云部署文档.md:1251
#: ../../语音服务专有云部署文档.md:1253 ../../语音服务专有云部署文档.md:1279
#: ../../语音服务专有云部署文档.md:1292 ../../语音服务专有云部署文档.md:1294
msgid "}"
msgstr ""

#: ../../语音服务专有云部署文档.md:401 ../../语音服务专有云部署文档.md:477 ../../语音服务专有云部署文档.md:507
msgid "server {"
msgstr ""

#: ../../语音服务专有云部署文档.md:403
msgid "listen 8000;"
msgstr ""

#: ../../语音服务专有云部署文档.md:407
msgid "location /realtime {"
msgstr ""

#: ../../语音服务专有云部署文档.md:409
msgid "proxy_pass http://diting;"
msgstr ""

#: ../../语音服务专有云部署文档.md:411 ../../语音服务专有云部署文档.md:429 ../../语音服务专有云部署文档.md:517
msgid "proxy_set_header Host \\$host;"
msgstr ""

#: ../../语音服务专有云部署文档.md:413 ../../语音服务专有云部署文档.md:431 ../../语音服务专有云部署文档.md:519
msgid "proxy_set_header X-Real-IP \\$remote_addr;"
msgstr ""

#: ../../语音服务专有云部署文档.md:415 ../../语音服务专有云部署文档.md:433 ../../语音服务专有云部署文档.md:521
msgid "proxy_set_header X-Forwarded-For \\$proxy_add_x_forwarded_for;"
msgstr ""

#: ../../语音服务专有云部署文档.md:417 ../../语音服务专有云部署文档.md:435 ../../语音服务专有云部署文档.md:523
msgid "proxy_http_version 1.1;"
msgstr ""

#: ../../语音服务专有云部署文档.md:419 ../../语音服务专有云部署文档.md:437
msgid "proxy_set_header Connection \\\"upgrade\\\";"
msgstr ""

#: ../../语音服务专有云部署文档.md:421 ../../语音服务专有云部署文档.md:439
msgid "proxy_set_header Upgrade \\$http_upgrade;"
msgstr ""

#: ../../语音服务专有云部署文档.md:425
msgid "location /tts {"
msgstr ""

#: ../../语音服务专有云部署文档.md:427
msgid "proxy_pass http://diting_tts_cluster;"
msgstr ""

#: ../../语音服务专有云部署文档.md:449
#, python-brace-format
msgid ""
"此外，安装包内单独附带了一个示例配置({src_install_dir}/Tengine/nginx-"
"diting.conf)，可以基于该文件进行定制修改。"
msgstr ""

#: ../../语音服务专有云部署文档.md:451 ../../语音服务专有云部署文档.md:535
msgid "启动方式："
msgstr ""

#: ../../语音服务专有云部署文档.md:453 ../../语音服务专有云部署文档.md:537
msgid "\\# cd /home/admin/tengine-2.1.2/sbin/"
msgstr ""

#: ../../语音服务专有云部署文档.md:455
msgid ""
"\\# ./nginx -c conf/nginx-diting.conf \\# "
"启动，配置文件为/home/admin/tengine-2.1.2/conf/nginx-diting.conf"
msgstr ""

#: ../../语音服务专有云部署文档.md:458 ../../语音服务专有云部署文档.md:542
msgid "\\# ps -ef \\| grep nginx"
msgstr ""

#: ../../语音服务专有云部署文档.md:460
msgid "\\# ./nginx -c conf/nginx-diting.conf -s reload \\# 重启，比如修改了配置文件"
msgstr ""

#: ../../语音服务专有云部署文档.md:463
msgid "应用层nginx配置说明(可选，单台ASR或TTS时不需要)"
msgstr ""

#: ../../语音服务专有云部署文档.md:465
msgid "假设配置文件为/home/admin/tengine-2.1.2/nginx-asr-tts.conf，端口号为8010和8020；"
msgstr ""

#: ../../语音服务专有云部署文档.md:467
msgid "tcp { \\# tts的反向代理"
msgstr ""

#: ../../语音服务专有云部署文档.md:469
msgid "upstream tts_cluster {"
msgstr ""

#: ../../语音服务专有云部署文档.md:471
msgid "server nls-tts-server1:7007 max_fails=3;"
msgstr ""

#: ../../语音服务专有云部署文档.md:473
msgid "server nls-tts-server2:7007 max_fails=3;"
msgstr ""

#: ../../语音服务专有云部署文档.md:479
msgid "listen 8010;"
msgstr ""

#: ../../语音服务专有云部署文档.md:481
msgid "proxy_pass tts_cluster;"
msgstr ""

#: ../../语音服务专有云部署文档.md:491
msgid "upstream asr_cluster {"
msgstr ""

#: ../../语音服务专有云部署文档.md:493
msgid "consistent_hash \\$http_x_request_id;"
msgstr ""

#: ../../语音服务专有云部署文档.md:495
msgid "server 192.168.192.133:8680;"
msgstr ""

#: ../../语音服务专有云部署文档.md:497
msgid "server 192.168.192.134:8680;"
msgstr ""

#: ../../语音服务专有云部署文档.md:501
msgid "check_http_send \\\"GET /check.htm HTTP/1.0\\\\r\\\\n\\\\r\\\\n\\\";"
msgstr ""

#: ../../语音服务专有云部署文档.md:509
msgid "listen 8020;"
msgstr ""

#: ../../语音服务专有云部署文档.md:513
msgid "location / { \\# asr的反向代理"
msgstr ""

#: ../../语音服务专有云部署文档.md:515
msgid "proxy_pass http://asr_cluster;"
msgstr ""

#: ../../语音服务专有云部署文档.md:525
msgid "proxy_set_header Connection \\\"\\\";"
msgstr ""

#: ../../语音服务专有云部署文档.md:533
#, python-brace-format
msgid ""
"此外，安装包内单独附带了一个示例配置({src_install_dir}/Tengine/nginx-asr-"
"tts.conf)，可以基于该文件进行定制修改。"
msgstr ""

#: ../../语音服务专有云部署文档.md:539
msgid ""
"\\# ./nginx -c conf/nginx-asr-tts.conf \\# "
"启动，配置文件为/home/admin/tengine-2.1.2/conf/nginx-asr-tts.conf"
msgstr ""

#: ../../语音服务专有云部署文档.md:544
msgid "\\# ./nginx -c conf/nginx-asr-tts.conf -s reload \\# 重启，比如修改了配置文件"
msgstr ""

#: ../../语音服务专有云部署文档.md:549
msgid "diting是语音核心能力ASR、TTS的网关层，单台机器diting服务可以同时支持ASR、TTS的接入。"
msgstr ""

#: ../../语音服务专有云部署文档.md:551 ../../语音服务专有云部署文档.md:614 ../../语音服务专有云部署文档.md:693
#: ../../语音服务专有云部署文档.md:755 ../../语音服务专有云部署文档.md:791 ../../语音服务专有云部署文档.md:853
#: ../../语音服务专有云部署文档.md:957 ../../语音服务专有云部署文档.md:1073
msgid "解压缩"
msgstr ""

#: ../../语音服务专有云部署文档.md:553
msgid "\\# mkdir -p /home/admin/diting \\# 创建运行目录"
msgstr ""

#: ../../语音服务专有云部署文档.md:555
msgid ""
"\\# tar --xf Diting/nls-diting-1.7.0.2.tar.gz -C /home/admin/diting/ \\# "
"解压"
msgstr ""

#: ../../语音服务专有云部署文档.md:558 ../../语音服务专有云部署文档.md:666 ../../语音服务专有云部署文档.md:701
#: ../../语音服务专有云部署文档.md:763 ../../语音服务专有云部署文档.md:799 ../../语音服务专有云部署文档.md:861
#: ../../语音服务专有云部署文档.md:965 ../../语音服务专有云部署文档.md:1081
msgid "修改配置"
msgstr ""

#: ../../语音服务专有云部署文档.md:560
msgid "Diting的配置文件(diting/conf/application.properties)中几个关键地方说明如下："
msgstr ""

#: ../../语音服务专有云部署文档.md:562
msgid "\\# diting本身的监听端口，如果端口冲突，可以改为其他，同时注意修改接入层Tengine配置中diting的端口；"
msgstr ""

#: ../../语音服务专有云部署文档.md:565
msgid "server.port=8010"
msgstr ""

#: ../../语音服务专有云部署文档.md:567
msgid "server.address=0.0.0.0 \\# diting本身的监听ip"
msgstr ""

#: ../../语音服务专有云部署文档.md:569
msgid "management.port=7002 \\# diting本身的管理端口"
msgstr ""

#: ../../语音服务专有云部署文档.md:571
msgid "\\# asr服务的ip及端口"
msgstr ""

#: ../../语音服务专有云部署文档.md:573
msgid "asr.url=http://127.0.0.1:8680"
msgstr ""

#: ../../语音服务专有云部署文档.md:575
msgid "\\# tts服务的ip及端口"
msgstr ""

#: ../../语音服务专有云部署文档.md:577
msgid "tts.grpc.target=127.0.0.1:7007"
msgstr ""

#: ../../语音服务专有云部署文档.md:579
msgid "\\# !!! 注意 !!!：如果diting后不是直接挂asr、tts，比如在asr、tts之前有一层asr、tts的反向代理Tengine，"
msgstr ""

#: ../../语音服务专有云部署文档.md:582
msgid "\\# 则这两处的ip和port要修改为Tengine的ip：port。"
msgstr ""

#: ../../语音服务专有云部署文档.md:584 ../../语音服务专有云部署文档.md:673 ../../语音服务专有云部署文档.md:734
#: ../../语音服务专有云部署文档.md:775 ../../语音服务专有云部署文档.md:809 ../../语音服务专有云部署文档.md:913
#: ../../语音服务专有云部署文档.md:1056 ../../语音服务专有云部署文档.md:1117
#: ../../语音服务专有云部署文档.md:1257
msgid "启动"
msgstr ""

#: ../../语音服务专有云部署文档.md:586
msgid "\\# cd /home/admin/diting/bin"
msgstr ""

#: ../../语音服务专有云部署文档.md:588
msgid "\\# ./start.sh"
msgstr ""

#: ../../语音服务专有云部署文档.md:590
msgid "\\# 查看启动是否成功，如果不成功需查看/home/admin/diting/log/下日志进行分析"
msgstr ""

#: ../../语音服务专有云部署文档.md:593
msgid "\\# ps -ef \\| grep diting \\| grep -v grep"
msgstr ""

#: ../../语音服务专有云部署文档.md:597
msgid "选择版本"
msgstr ""

#: ../../语音服务专有云部署文档.md:599
msgid "asr我们一般会提供两个版本，命名分别如下所示："
msgstr ""

#: ../../语音服务专有云部署文档.md:601
msgid "\\# asr应用名-版本号-7u的os-cpu指令集-需授权服务"
msgstr ""

#: ../../语音服务专有云部署文档.md:603
msgid "speech-alisr-1.3.21-0-7u-avx2-server-license.tgz"
msgstr ""

#: ../../语音服务专有云部署文档.md:605
msgid "speech-alisr-1.3.21-0-7u-sse-server-license.tgz \\# 同上，差别在于avx2和sse"
msgstr ""

#: ../../语音服务专有云部署文档.md:608
msgid "以上两个版本的差异在于avx2和sse的差异，分别对应到支持avx2指令和sse指令的cpu，建议部署前先确定部署ASR的机器cpu支持哪种指令，建议使用支持avx2指令的cpu。可以通过以下命令查看："
msgstr ""

#: ../../语音服务专有云部署文档.md:610
msgid "\\# cat /proc/cpuinfo \\| grep avx2 \\# 如果有输出表示支持avx2"
msgstr ""

#: ../../语音服务专有云部署文档.md:612
msgid "\\# cat /proc/cpuinfo \\| grep sse \\# 如果有输出表示支持sse"
msgstr ""

#: ../../语音服务专有云部署文档.md:616
msgid "解压speech-alisr到/home/admin目录"
msgstr ""

#: ../../语音服务专有云部署文档.md:618
#, python-brace-format
msgid "\\# cd {src_install_dir}/ASR/"
msgstr ""

#: ../../语音服务专有云部署文档.md:620
msgid "\\# tar -xf speech-alisr-xxxxxx.tgz"
msgstr ""

#: ../../语音服务专有云部署文档.md:622
msgid "拷贝配置和模型"
msgstr ""

#: ../../语音服务专有云部署文档.md:624
#, python-brace-format
msgid "\\# cp -rf {src_install_dir}/ASR/conf /home/admin/speech-alisr/"
msgstr ""

#: ../../语音服务专有云部署文档.md:626
#, python-brace-format
msgid "\\# cp -rf {src_install_dir}/ASR/models /home/admin/speech-alisr/"
msgstr ""

#: ../../语音服务专有云部署文档.md:628
msgid "建立动态链接库"
msgstr ""

#: ../../语音服务专有云部署文档.md:630 ../../语音服务专有云部署文档.md:675
msgid "\\# cd /home/admin/speech-alisr/"
msgstr ""

#: ../../语音服务专有云部署文档.md:632
msgid "\\# export LD_LIBRARY_PATH=./lib64/:\\$LD_LIBRARY_PAT"
msgstr ""

#: ../../语音服务专有云部署文档.md:634
msgid "\\# ldd bin/alisr-server \\# 查看缺少哪些依赖库，对于缺少的可能需要yum安装"
msgstr ""

#: ../../语音服务专有云部署文档.md:636
msgid "如果报错缺少以下这些依赖："
msgstr ""

#: ../../语音服务专有云部署文档.md:638
msgid "libldap-2.3.so.0 =\\> not found"
msgstr ""

#: ../../语音服务专有云部署文档.md:640
msgid "libssl.so.6 =\\> not found"
msgstr ""

#: ../../语音服务专有云部署文档.md:642
msgid "libcurl.so.3 =\\> not found"
msgstr ""

#: ../../语音服务专有云部署文档.md:644
msgid "libcrypto.so.6 =\\> not found"
msgstr ""

#: ../../语音服务专有云部署文档.md:646
msgid "可以通过软链解决："
msgstr ""

#: ../../语音服务专有云部署文档.md:648
msgid "\\# cd /usr/lib64"
msgstr ""

#: ../../语音服务专有云部署文档.md:650
msgid "\\# 将前面的so版本软链为libldap-2.3.so.0，注意libldap-2.4.so.2.10.3版本号在不同os下可能不同，注意修改"
msgstr ""

#: ../../语音服务专有云部署文档.md:653
msgid "\\# ln -s libldap-2.4.so.2.10.3 libldap-2.3.so.0"
msgstr ""

#: ../../语音服务专有云部署文档.md:655
msgid "\\# 同上"
msgstr ""

#: ../../语音服务专有云部署文档.md:657
msgid "\\# ln -s libssl.so.1.0.1e libssl.so.6"
msgstr ""

#: ../../语音服务专有云部署文档.md:659
msgid "\\# ln -s libcurl.so.4.3.0 libcurl.so.3"
msgstr ""

#: ../../语音服务专有云部署文档.md:661
msgid "\\# ln -s libcrypto.so.1.0.1e libcrypto.so.6"
msgstr ""

#: ../../语音服务专有云部署文档.md:663
msgid "如果报错提示缺少gfortan.so 之类错误，则可以yum： sudo yum install libgfortran解决。"
msgstr ""

#: ../../语音服务专有云部署文档.md:668
msgid "配置文件speech-alisr/conf/server.json中需要修改以下设置："
msgstr ""

#: ../../语音服务专有云部署文档.md:670
msgid ""
"\\\"licence_file_path\\\":\\\"ip1，ip2，ip3\\\", \\# "
"这里设置的ip地址即是LicenseServer(apes)的地址，注意顺序一致"
msgstr ""

#: ../../语音服务专有云部署文档.md:677
msgid "\\# export LD_LIBRARY_PATH=../lib64/"
msgstr ""

#: ../../语音服务专有云部署文档.md:679
msgid "#前台模式启动asr，以便查看启动是否成功，如果成功删掉，改为下面的脚本启动"
msgstr ""

#: ../../语音服务专有云部署文档.md:681
msgid "\\# ./bin/alisr-server -c conf/server.json"
msgstr ""

#: ../../语音服务专有云部署文档.md:683
msgid "\\# ./bin/alisr-ctrl.sh start \\# 后台模式启动"
msgstr ""

#: ../../语音服务专有云部署文档.md:685
msgid "\\# ps -ef \\| grep alisr \\| grep -v grep \\# 查看进程是否正常运行"
msgstr ""

#: ../../语音服务专有云部署文档.md:687
msgid "测试ASR和TTS"
msgstr ""

#: ../../语音服务专有云部署文档.md:689
msgid "在安装包目录下有相应的测试工具，可以用来测试ASR、TTS链路的连通性。"
msgstr ""

#: ../../语音服务专有云部署文档.md:695
#, python-brace-format
msgid "\\# cd {src_install_dir}/TTS"
msgstr ""

#: ../../语音服务专有云部署文档.md:697
msgid "\\# tar --xf nls-tts_XXXXXX.tar.gz"
msgstr ""

#: ../../语音服务专有云部署文档.md:699
msgid "\\# mv nls-tts /home/admin/"
msgstr ""

#: ../../语音服务专有云部署文档.md:703
msgid "配置文件nls-tts/conf/application.properties中需要修改以下设置："
msgstr ""

#: ../../语音服务专有云部署文档.md:705
msgid "engine.apesAddress = ip1，ip2，ip3 #这里设置的ip地址即是LicenseServer(apes)的地址，注意顺序"
msgstr ""

#: ../../语音服务专有云部署文档.md:708
msgid "文件描述符修改，由于TTS采用短连接，当并发或QPS过高时，会消耗大量文件描述符，所以需要增加打开文件描述符的数量："
msgstr ""

#: ../../语音服务专有云部署文档.md:710
msgid "\\# 查看当前文件描述符限制："
msgstr ""

#: ../../语音服务专有云部署文档.md:712
msgid "\\# ulimit -n"
msgstr ""

#: ../../语音服务专有云部署文档.md:714
msgid "\\# 一次性修改："
msgstr ""

#: ../../语音服务专有云部署文档.md:716
msgid "\\# ulimit -SHn 102400"
msgstr ""

#: ../../语音服务专有云部署文档.md:718
msgid "\\# 永久修改："
msgstr ""

#: ../../语音服务专有云部署文档.md:720
msgid "\\# vim /etc/security/limits.conf"
msgstr ""

#: ../../语音服务专有云部署文档.md:722
msgid "\\# 最后增加如下配置："
msgstr ""

#: ../../语音服务专有云部署文档.md:724
msgid "hard nofile 102400"
msgstr ""

#: ../../语音服务专有云部署文档.md:726
msgid "soft nofile 102400"
msgstr ""

#: ../../语音服务专有云部署文档.md:728
msgid "jvm修改，修改bin/jvm.options ,建议为系统内存一半并小于32g:"
msgstr ""

#: ../../语音服务专有云部署文档.md:730
msgid "-Xms16g"
msgstr ""

#: ../../语音服务专有云部署文档.md:732
msgid "-Xmx16g"
msgstr ""

#: ../../语音服务专有云部署文档.md:736
msgid "\\# cd /home/admin/nls-tts/"
msgstr ""

#: ../../语音服务专有云部署文档.md:738
msgid "\\# 第一次启动可以手动前台启动，查看是否启动成功，如果成功则杀掉改为后台模式启动"
msgstr ""

#: ../../语音服务专有云部署文档.md:741
msgid "\\# ./bin/service.sh"
msgstr ""

#: ../../语音服务专有云部署文档.md:743
msgid "\\# 后台启动"
msgstr ""

#: ../../语音服务专有云部署文档.md:745
msgid "\\# ./bin/appctl start"
msgstr ""

#: ../../语音服务专有云部署文档.md:747
msgid "\\# 查看进程是否正常运行"
msgstr ""

#: ../../语音服务专有云部署文档.md:749
msgid "\\# ./bin/appctl status"
msgstr ""

#: ../../语音服务专有云部署文档.md:751
msgid "\\# ps -ef \\| grep nls-tts \\| grep -v grep"
msgstr ""

#: ../../语音服务专有云部署文档.md:753
msgid "SDM(可选)"
msgstr ""

#: ../../语音服务专有云部署文档.md:757
#, python-brace-format
msgid "\\# cd {src_install_dir}"
msgstr ""

#: ../../语音服务专有云部署文档.md:759
msgid "\\# tar -xf alimrcp-server.tar.gz"
msgstr ""

#: ../../语音服务专有云部署文档.md:761
msgid "\\# mv alimrcp-server /home/admin/"
msgstr ""

#: ../../语音服务专有云部署文档.md:765
msgid "其中/home/admin/alimrcp-server/conf/unimrcpserver.xml为主配置文件，暂时不用修改。"
msgstr ""

#: ../../语音服务专有云部署文档.md:767
msgid "修改/home/admin/alimrcp-server/conf/service-tts.conf:"
msgstr ""

#: ../../语音服务专有云部署文档.md:769
msgid "Url:ws://nginx-ip:port/tts \\# TTS地址，仅仅修改ip和端口"
msgstr ""

#: ../../语音服务专有云部署文档.md:771
msgid "修改/home/admin/alimrcp-server/conf/service-asr.conf:"
msgstr ""

#: ../../语音服务专有云部署文档.md:773
msgid "Url:ws://nginx-ip:port/realtime \\# TTS地址，仅仅修改ip和端口"
msgstr ""

#: ../../语音服务专有云部署文档.md:777
msgid "\\# cd /home/admin/alimrcp-server/bin/"
msgstr ""

#: ../../语音服务专有云部署文档.md:779
msgid "\\# ./service.sh \\# 前台启动验证是否成功，成功之后Ctrl + C杀掉"
msgstr ""

#: ../../语音服务专有云部署文档.md:781
msgid "\\# ./appctl start \\# 后台启动"
msgstr ""

#: ../../语音服务专有云部署文档.md:783
msgid "\\# ps -ef \\| grep unimrcp \\| grep -v grep \\# 查看进程是否正常运行"
msgstr ""

#: ../../语音服务专有云部署文档.md:785
msgid "SDM的监听端口在7010。"
msgstr ""

#: ../../语音服务专有云部署文档.md:787
msgid "Kamailio负载(可选)"
msgstr ""

#: ../../语音服务专有云部署文档.md:789
msgid "SDM的负载均衡模块。当只有一台SDM时，不需要部署。"
msgstr ""

#: ../../语音服务专有云部署文档.md:793
#, python-brace-format
msgid "\\# cd {src_install_dir}/SDM/"
msgstr ""

#: ../../语音服务专有云部署文档.md:795
msgid "\\# tar -xf kamailio-5.0.4_bin.tar.gz"
msgstr ""

#: ../../语音服务专有云部署文档.md:797
msgid "\\# mv kamailio /home/admin/"
msgstr ""

#: ../../语音服务专有云部署文档.md:801
msgid "修改/home/admin/kamailio/etc/kamailio/dispatcher.list:"
msgstr ""

#: ../../语音服务专有云部署文档.md:803
msgid "#Load Balance"
msgstr ""

#: ../../语音服务专有云部署文档.md:805
msgid "1 sip:sdm-server1:7010 \\# 设置为SDM的ip和port"
msgstr ""

#: ../../语音服务专有云部署文档.md:807
msgid "1 sip:sdm-server2:7010"
msgstr ""

#: ../../语音服务专有云部署文档.md:811
msgid "\\# cd /home/admin/kamailio/sbin/"
msgstr ""

#: ../../语音服务专有云部署文档.md:813
msgid "\\# ./kamailio -f /home/admin/kamailio/etc/kamailio/kamailio.cfg"
msgstr ""

#: ../../语音服务专有云部署文档.md:815
msgid "kamailio默认监听在5070端口上。"
msgstr ""

#: ../../语音服务专有云部署文档.md:817
msgid "自学习平台(SLP) (可选)"
msgstr ""

#: ../../语音服务专有云部署文档.md:819
msgid "**自学习平台依赖Redis和MongoDB服务，这里对这两个服务的安装做一个简单介绍，如果当前环境中已经有了redis和mongodb服务，则可以共用而无需重新部署。**"
msgstr ""

#: ../../语音服务专有云部署文档.md:821
msgid "Redis"
msgstr ""

#: ../../语音服务专有云部署文档.md:823 ../../语音服务专有云部署文档.md:835 ../../语音服务专有云部署文档.md:855
#: ../../语音服务专有云部署文档.md:959 ../../语音服务专有云部署文档.md:1075
#, python-brace-format
msgid "\\# cd {src_install_dir}/SLP"
msgstr ""

#: ../../语音服务专有云部署文档.md:825
msgid "\\# unzip redis-3.2.8-bin.zip"
msgstr ""

#: ../../语音服务专有云部署文档.md:827
msgid "\\# mv redis-3.2.8 /home/admin/"
msgstr ""

#: ../../语音服务专有云部署文档.md:829
msgid "\\# cd /home/admin/redis-3.2.8"
msgstr ""

#: ../../语音服务专有云部署文档.md:831
msgid "\\# ./redis-server redis.conf \\# 启动"
msgstr ""

#: ../../语音服务专有云部署文档.md:833
msgid "Mongodb"
msgstr ""

#: ../../语音服务专有云部署文档.md:837
msgid "\\# tar --xf mongodb-linux-x86_64-3.6.0.tgz"
msgstr ""

#: ../../语音服务专有云部署文档.md:839
msgid "\\# mv mongodb-linux-x86_64-3.6.0 /home/admin/"
msgstr ""

#: ../../语音服务专有云部署文档.md:841
msgid "\\# cd /home/admin/mongodb-linux-x86_64-3.6.0"
msgstr ""

#: ../../语音服务专有云部署文档.md:843
msgid "\\# mkdir logs dbdata"
msgstr ""

#: ../../语音服务专有云部署文档.md:845
msgid "\\# cd bin"
msgstr ""

#: ../../语音服务专有云部署文档.md:847
#, python-brace-format
msgid ""
"\\# ./mongod --bind_ip {填上本机ip} --port 27017 \\--dbpath /home/admin/ "
"mongodb-linux-x86_64-3.6.0/dbdata \\--fork \\--logpath /home/admin/ "
"mongodb-linux-x86_64-3.6.0/logs/mongodb.log \\# 启动"
msgstr ""

#: ../../语音服务专有云部署文档.md:851
msgid "ai-container"
msgstr ""

#: ../../语音服务专有云部署文档.md:857
msgid "\\# tar -xf ai-container-XXXXX.tar.gz"
msgstr ""

#: ../../语音服务专有云部署文档.md:859
msgid "\\# mv ai-container /home/admin/"
msgstr ""

#: ../../语音服务专有云部署文档.md:863
msgid "编辑文件/home/admin/ai-container/application.properties。"
msgstr ""

#: ../../语音服务专有云部署文档.md:865 ../../语音服务专有云部署文档.md:969 ../../语音服务专有云部署文档.md:1085
msgid "必须提供以下配置："
msgstr ""

#: ../../语音服务专有云部署文档.md:867
#, python-brace-format
msgid "\\# 回调地址，\\${host}和\\${port}需要设置为customizaiton-service的地址"
msgstr ""

#: ../../语音服务专有云部署文档.md:869
#, python-brace-format
msgid ""
"local.callback.url=http://\\${host}:\\${port}/asr/models/{customization_id"
"}/train-callback"
msgstr ""

#: ../../语音服务专有云部署文档.md:871
msgid "\\# 安全令牌，需要与customization-service的配置保持已知"
msgstr ""

#: ../../语音服务专有云部署文档.md:873
msgid "token.api=cy2y6z6hoirrq2os"
msgstr ""

#: ../../语音服务专有云部署文档.md:875
msgid "\\# Redis服务地址"
msgstr ""

#: ../../语音服务专有云部署文档.md:877
msgid "jedis.host=10.182.158.44"
msgstr ""

#: ../../语音服务专有云部署文档.md:879 ../../语音服务专有云部署文档.md:983
msgid "\\# MongoDB服务地址"
msgstr ""

#: ../../语音服务专有云部署文档.md:881
msgid "spring.data.mongodb.host=10.182.145.117"
msgstr ""

#: ../../语音服务专有云部署文档.md:883
msgid "以下配置项可以使用默认配置："
msgstr ""

#: ../../语音服务专有云部署文档.md:885
msgid "\\# 远端数据路径"
msgstr ""

#: ../../语音服务专有云部署文档.md:887
msgid "module.remote.path=/home/admin/ai-container/remote"
msgstr ""

#: ../../语音服务专有云部署文档.md:889
msgid "\\# 本地数据路径"
msgstr ""

#: ../../语音服务专有云部署文档.md:891
msgid "app.root.path=/home/admin/ai-container/"
msgstr ""

#: ../../语音服务专有云部署文档.md:893
msgid "\\# Redis服务端口"
msgstr ""

#: ../../语音服务专有云部署文档.md:895
msgid "jedis.port=6379"
msgstr ""

#: ../../语音服务专有云部署文档.md:897 ../../语音服务专有云部署文档.md:1020
msgid "\\# MongoDB服务端口"
msgstr ""

#: ../../语音服务专有云部署文档.md:899 ../../语音服务专有云部署文档.md:1022 ../../语音服务专有云部署文档.md:1115
msgid "spring.data.mongodb.port=27017"
msgstr ""

#: ../../语音服务专有云部署文档.md:901 ../../语音服务专有云部署文档.md:909
msgid "\\# MongoDB数据库"
msgstr ""

#: ../../语音服务专有云部署文档.md:903
msgid "spring.data.mongodb.database=speech-files"
msgstr ""

#: ../../语音服务专有云部署文档.md:905
msgid "\\# MongoDB文件数据库"
msgstr ""

#: ../../语音服务专有云部署文档.md:907
msgid "spring.data.mongodb.grid-fs-database=speech-files"
msgstr ""

#: ../../语音服务专有云部署文档.md:911
msgid "mongo.collection.name=fs"
msgstr ""

#: ../../语音服务专有云部署文档.md:915
msgid "启动ai-container："
msgstr ""

#: ../../语音服务专有云部署文档.md:917
msgid "cd /home/admin/ai-container"
msgstr ""

#: ../../语音服务专有云部署文档.md:919
msgid "./start.sh"
msgstr ""

#: ../../语音服务专有云部署文档.md:921
msgid "另外，在第一次启动ai-container之后，需要执行以下命令(仅在第一次)："
msgstr ""

#: ../../语音服务专有云部署文档.md:923
msgid "\\# cd /home/admin/ai-container"
msgstr ""

#: ../../语音服务专有云部署文档.md:925
msgid "\\# ./install.sh"
msgstr ""

#: ../../语音服务专有云部署文档.md:927
msgid "算法部署"
msgstr ""

#: ../../语音服务专有云部署文档.md:929
msgid "ai-container的运行依赖算法模块asrp.tar.gz及配套文件的的部署。下面以一个例子来描述算法模块的部署："
msgstr ""

#: ../../语音服务专有云部署文档.md:931
msgid "假定ai-container安装在/home/admin/ai-container/下面"
msgstr ""

#: ../../语音服务专有云部署文档.md:933
msgid ""
"将算法模块文件:asrp.tar.gz、start.sh、lm_init.groovy这三个文件存放在/home/admin/ai-"
"container/remote/1/下面，稍微解释下这个路径的意义，remote其实就是远端的意思，因为算法模块要被保存在mongo上，1表示的是版本号，建议用数字，尽量用小写（remote这个路径在application.properties中的module.remote.path中配置）；"
msgstr ""

#: ../../语音服务专有云部署文档.md:935
msgid "首先需要启动ai-container服务（因为部署接口是REST的，ai-container自带的）；"
msgstr ""

#: ../../语音服务专有云部署文档.md:937
msgid "然后调用算法更新的接口，本例调用方式为："
msgstr ""

#: ../../语音服务专有云部署文档.md:939
msgid ""
"\\# curl -X POST \\\"http://localhost:7001/local/mongo?path=/home/admin"
"/ai-container/remote/1&version=1&token=cy2y6z6hoirrq2os\\\""
msgstr ""

#: ../../语音服务专有云部署文档.md:942
msgid "解释一下上面的三个参数，path是算法文件的目录，version就是给这个版本起的版本号，建议与上面目录的名字一致token是api的鉴权token；"
msgstr ""

#: ../../语音服务专有云部署文档.md:944
msgid "部署模型需要的数据，数据有三个文件，放在/home/admin/ai-container/data下面，调用："
msgstr ""

#: ../../语音服务专有云部署文档.md:946
msgid ""
"\\# curl -X POST "
"\\\"http://localhost:7001/local/mongo/data?localRoot=/home/admin/ai-"
"container/data&mongoRoot=/asrp/data&token=cy2y6z6hoirrq2os\\\""
msgstr ""

#: ../../语音服务专有云部署文档.md:949
msgid "其中需要注意的参数就是localRoot，这一定要是数据文件的绝对路径；"
msgstr ""

#: ../../语音服务专有云部署文档.md:951
msgid "customization-service"
msgstr ""

#: ../../语音服务专有云部署文档.md:953
msgid "customization-service不会占用太多系统资源，可以同别的服务部署在同样的机器上。"
msgstr ""

#: ../../语音服务专有云部署文档.md:955
msgid "**注意：该服务和ASR、TTS服务一样，需要进行授权才能正式使用。**"
msgstr ""

#: ../../语音服务专有云部署文档.md:961
msgid "\\# tar -xf customization-service-XXXXX.tar.gz"
msgstr ""

#: ../../语音服务专有云部署文档.md:963
msgid "\\# mv customization-service /home/admin/"
msgstr ""

#: ../../语音服务专有云部署文档.md:967
msgid "编辑/home/admin/customization-service/application.properties文件"
msgstr ""

#: ../../语音服务专有云部署文档.md:971
msgid "\\# 定制模型训练服务地址（配置ai-container的服务ip和port）"
msgstr ""

#: ../../语音服务专有云部署文档.md:973
#, python-brace-format
msgid "nls.customization.service.model.train.service.address=http://\\${ip}:\\${port}"
msgstr ""

#: ../../语音服务专有云部署文档.md:975
msgid "\\# 模型训练服务令牌（需要与ai-container的配置保持已知）"
msgstr ""

#: ../../语音服务专有云部署文档.md:977
msgid "nls.customization.service.model.train.service.token=cy2y6z6hoirrq2os"
msgstr ""

#: ../../语音服务专有云部署文档.md:979
msgid "\\# 授权服务地址列表"
msgstr ""

#: ../../语音服务专有云部署文档.md:981
msgid "nls.customization.service.apes-client.address-list=127.0.0.1"
msgstr ""

#: ../../语音服务专有云部署文档.md:985
#, python-brace-format
msgid "spring.data.mongodb.host=\\${ip}"
msgstr ""

#: ../../语音服务专有云部署文档.md:987
msgid "\\# Redis服务器地址"
msgstr ""

#: ../../语音服务专有云部署文档.md:989
#, python-brace-format
msgid "spring.redis.host=\\${ip}"
msgstr ""

#: ../../语音服务专有云部署文档.md:991
msgid "以下配置可以使用默认配置："
msgstr ""

#: ../../语音服务专有云部署文档.md:993 ../../语音服务专有云部署文档.md:1098
msgid "\\# 日志配置"
msgstr ""

#: ../../语音服务专有云部署文档.md:995
msgid "logging.path=logs"
msgstr ""

#: ../../语音服务专有云部署文档.md:997 ../../语音服务专有云部署文档.md:1102
#, python-brace-format, python-format
msgid ""
"logging.pattern.file=%d{HH:mm:ss.SSS} %5p \\[%15.15t\\] "
"\\[%40.40logger{40}\\] \\[%32.32X{REQUEST_ID}\\] %m%n"
msgstr ""

#: ../../语音服务专有云部署文档.md:1000
msgid "\\# 定制模型训练配置模板路径"
msgstr ""

#: ../../语音服务专有云部署文档.md:1002
msgid ""
"nls.customization.service.model.train.config.template-file=data/model"
"/train-config-template.json"
msgstr ""

#: ../../语音服务专有云部署文档.md:1004
msgid "\\# 定制词表数据路径"
msgstr ""

#: ../../语音服务专有云部署文档.md:1006
msgid "nls.customization.service.vocab.base-dir=data/vocab"
msgstr ""

#: ../../语音服务专有云部署文档.md:1008
msgid "\\# 定制词表权重设置"
msgstr ""

#: ../../语音服务专有云部署文档.md:1010
msgid ""
"nls.customization.service.vocab.weight-"
"map=5:90;4:80;3:70;2:60;1:30;-1:-30;-2:-60;-3:-70;-4:-80;-5:-90;-6:-200"
msgstr ""

#: ../../语音服务专有云部署文档.md:1012
msgid "\\# 自学习平台服务地址"
msgstr ""

#: ../../语音服务专有云部署文档.md:1014 ../../语音服务专有云部署文档.md:1107
msgid "server.address=0.0.0.0"
msgstr ""

#: ../../语音服务专有云部署文档.md:1016
msgid "\\# 自学习平台服务端口"
msgstr ""

#: ../../语音服务专有云部署文档.md:1018
msgid "server.port=8100"
msgstr ""

#: ../../语音服务专有云部署文档.md:1024
msgid "\\# Redis数据库"
msgstr ""

#: ../../语音服务专有云部署文档.md:1026
msgid "spring.redis.database=0"
msgstr ""

#: ../../语音服务专有云部署文档.md:1028
msgid "\\# Redis服务器连接端口"
msgstr ""

#: ../../语音服务专有云部署文档.md:1030
msgid "spring.redis.port=6379"
msgstr ""

#: ../../语音服务专有云部署文档.md:1032
msgid "\\# Redis服务器连接密码（默认为空）"
msgstr ""

#: ../../语音服务专有云部署文档.md:1034
msgid "spring.redis.password="
msgstr ""

#: ../../语音服务专有云部署文档.md:1036
msgid "\\# 连接池最大连接数（使用负值表示没有限制）"
msgstr ""

#: ../../语音服务专有云部署文档.md:1038
msgid "spring.redis.pool.max-active=8"
msgstr ""

#: ../../语音服务专有云部署文档.md:1040
msgid "\\# 连接池最大阻塞等待时间（使用负值表示没有限制）"
msgstr ""

#: ../../语音服务专有云部署文档.md:1042
msgid "spring.redis.pool.max-wait=-1"
msgstr ""

#: ../../语音服务专有云部署文档.md:1044
msgid "\\# 连接池中的最大空闲连接"
msgstr ""

#: ../../语音服务专有云部署文档.md:1046
msgid "spring.redis.pool.max-idle=8"
msgstr ""

#: ../../语音服务专有云部署文档.md:1048
msgid "\\# 连接池中的最小空闲连接"
msgstr ""

#: ../../语音服务专有云部署文档.md:1050
msgid "spring.redis.pool.min-idle=0"
msgstr ""

#: ../../语音服务专有云部署文档.md:1052
msgid "\\# 连接超时时间（毫秒）"
msgstr ""

#: ../../语音服务专有云部署文档.md:1054
msgid "spring.redis.timeout=200"
msgstr ""

#: ../../语音服务专有云部署文档.md:1058
msgid "\\# cd /home/admin/customization-service/"
msgstr ""

#: ../../语音服务专有云部署文档.md:1060
msgid "\\# ./service.sh start"
msgstr ""

#: ../../语音服务专有云部署文档.md:1062
msgid "查询资源状态"
msgstr ""

#: ../../语音服务专有云部署文档.md:1064
msgid "服务启动成功会提供查询资源状态的页面，可以通过浏览器（或curl命令）查看服务状态："
msgstr ""

#: ../../语音服务专有云部署文档.md:1066
#, python-brace-format
msgid ""
"\\# curl http://\\${host}:8100/ \\# \\${host}是部署了customization-"
"service的服务器的IP"
msgstr ""

#: ../../语音服务专有云部署文档.md:1069
msgid "customlm-downloader"
msgstr ""

#: ../../语音服务专有云部署文档.md:1071
msgid ""
"使用自学习平台的定制模型功能时，需要在部署了alisr-server的机器上部署customlm-downloader。customlm-"
"downloader用于将定制模型同步到每台alisr-server服务器上。"
msgstr ""

#: ../../语音服务专有云部署文档.md:1077
msgid "\\# tar -xf customlm-downloader-XXXXX.tar.gz"
msgstr ""

#: ../../语音服务专有云部署文档.md:1079
msgid "\\# mv customlm-downloader /home/admin/"
msgstr ""

#: ../../语音服务专有云部署文档.md:1083
msgid "编辑配置文件/home/admin/customlm-downloader/application.properties。"
msgstr ""

#: ../../语音服务专有云部署文档.md:1087
msgid "\\# MongoDB数据库地址"
msgstr ""

#: ../../语音服务专有云部署文档.md:1089
#, python-brace-format
msgid "spring.data.mongodb.host=\\${mongodb_host}"
msgstr ""

#: ../../语音服务专有云部署文档.md:1091
msgid ""
"\\# 模型下载位置(如果customlm-downloader和speech-"
"alisr安装在同一台机器则无需修改，否则需要将下面路径改为实际路标，比如当前目录下)"
msgstr ""

#: ../../语音服务专有云部署文档.md:1094
msgid ""
"nls.customization.downloader.local-root=/home/admin/speech-"
"alisr/models/customlms"
msgstr ""

#: ../../语音服务专有云部署文档.md:1096
msgid "以下配置项可以使用默认配置"
msgstr ""

#: ../../语音服务专有云部署文档.md:1100
msgid "logging.path=/home/admin/customlm-downloader/logs"
msgstr ""

#: ../../语音服务专有云部署文档.md:1105
msgid "\\# 服务控制台地址"
msgstr ""

#: ../../语音服务专有云部署文档.md:1109
msgid "\\# 服务控制台端口"
msgstr ""

#: ../../语音服务专有云部署文档.md:1111
msgid "server.port=8080"
msgstr ""

#: ../../语音服务专有云部署文档.md:1113
msgid "\\# MongoDB数据库端口"
msgstr ""

#: ../../语音服务专有云部署文档.md:1119
msgid "\\# cd /home/admin/customlm-downloader"
msgstr ""

#: ../../语音服务专有云部署文档.md:1121
msgid "\\# ./service.sh"
msgstr ""

#: ../../语音服务专有云部署文档.md:1123
msgid "KeepAlived(可选)"
msgstr ""

#: ../../语音服务专有云部署文档.md:1125
msgid "安装"
msgstr ""

#: ../../语音服务专有云部署文档.md:1127
msgid "有两种方式安装：yum(sudo yum -y install keepalived)或者源码编译。"
msgstr ""

#: ../../语音服务专有云部署文档.md:1129
#, python-brace-format
msgid "**\\# cd {src_install_dir}/KeepAlived**"
msgstr ""

#: ../../语音服务专有云部署文档.md:1131
msgid "**\\# tar -xf keepalived-1.2.23.tar.gz && cd keepalived-1.2.23**"
msgstr ""

#: ../../语音服务专有云部署文档.md:1133
msgid "**\\# ./configure \\--prefix=/home/admin/keepalived-1.2.23**"
msgstr ""

#: ../../语音服务专有云部署文档.md:1135
msgid "**\\# make && make install**"
msgstr ""

#: ../../语音服务专有云部署文档.md:1137
msgid "**\\# sudo mkdir /etc/keepalived**"
msgstr ""

#: ../../语音服务专有云部署文档.md:1139
msgid ""
"**\\# sudo cp /home/admin/keepalived-1.2.23/etc/rc.d/init.d/keepalived "
"/etc/rc.d/init.d/**"
msgstr ""

#: ../../语音服务专有云部署文档.md:1142
msgid ""
"**\\# sudo cp /home/admin/keepalived-1.2.23/etc/sysconfig/keepalived "
"/etc/sysconfig/**"
msgstr ""

#: ../../语音服务专有云部署文档.md:1145
msgid "**\\# sudo cp /home/admin/keepalived-1.2.23/sbin/keepalived /usr/sbin/**"
msgstr ""

#: ../../语音服务专有云部署文档.md:1147
msgid ""
"**\\# sudo cp "
"/home/admin/keepalived-1.2.23/etc/keepalived/keepalived.conf "
"/etc/keepalived/**"
msgstr ""

#: ../../语音服务专有云部署文档.md:1151
msgid "配置"
msgstr ""

#: ../../语音服务专有云部署文档.md:1153
msgid "在master机器上增加配置文件/etc/keepalived/keepalived.conf："
msgstr ""

#: ../../语音服务专有云部署文档.md:1155 ../../语音服务专有云部署文档.md:1206
msgid "**\\# cat /etc/keepalived/keepalived.conf**"
msgstr ""

#: ../../语音服务专有云部署文档.md:1157 ../../语音服务专有云部署文档.md:1208
msgid "global_defs {"
msgstr ""

#: ../../语音服务专有云部署文档.md:1159 ../../语音服务专有云部署文档.md:1210
msgid "notification_email {"
msgstr ""

#: ../../语音服务专有云部署文档.md:1161 ../../语音服务专有云部署文档.md:1212
msgid "**\\# acassen@firewall.loc \\# 指定keepalived在发生切换时需要发送email到的对象**"
msgstr ""

#: ../../语音服务专有云部署文档.md:1166 ../../语音服务专有云部署文档.md:1217
msgid "**#notification_email_from Alexandre.Cassen@firewall.loc \\# 指定发件人**"
msgstr ""

#: ../../语音服务专有云部署文档.md:1168 ../../语音服务专有云部署文档.md:1219
msgid "**#smtp_server 192.168.200.1 \\# smtp 服务器地址**"
msgstr ""

#: ../../语音服务专有云部署文档.md:1170 ../../语音服务专有云部署文档.md:1221
msgid "**#smtp_connect_timeout 30 \\# smtp 服务器连接超时时间**"
msgstr ""

#: ../../语音服务专有云部署文档.md:1172 ../../语音服务专有云部署文档.md:1223
msgid "router_id LVS_DEVEL \\# 运行keepalived机器的一个标识"
msgstr ""

#: ../../语音服务专有云部署文档.md:1176 ../../语音服务专有云部署文档.md:1227
#: ../../语音服务专有云部署文档.md:1281
msgid "vrrp_instance VI_1 {"
msgstr ""

#: ../../语音服务专有云部署文档.md:1178 ../../语音服务专有云部署文档.md:1229
msgid "state MASTER \\# 状态，master机器上设置为MASTER，slave机器上设置为BACKUP"
msgstr ""

#: ../../语音服务专有云部署文档.md:1180 ../../语音服务专有云部署文档.md:1231
msgid "interface eth0 \\# 本机网卡地址，按实际情况修改"
msgstr ""

#: ../../语音服务专有云部署文档.md:1182 ../../语音服务专有云部署文档.md:1233
msgid "virtual_router_id 51"
msgstr ""

#: ../../语音服务专有云部署文档.md:1184
msgid "priority 100 \\# 优先级，注意slave机器上改值要小于master机器"
msgstr ""

#: ../../语音服务专有云部署文档.md:1186 ../../语音服务专有云部署文档.md:1237
msgid "advert_int 1"
msgstr ""

#: ../../语音服务专有云部署文档.md:1188 ../../语音服务专有云部署文档.md:1239
msgid "authentication {"
msgstr ""

#: ../../语音服务专有云部署文档.md:1190 ../../语音服务专有云部署文档.md:1241
msgid "auth_type PASS"
msgstr ""

#: ../../语音服务专有云部署文档.md:1192 ../../语音服务专有云部署文档.md:1243
msgid "auth_pass 1111"
msgstr ""

#: ../../语音服务专有云部署文档.md:1196 ../../语音服务专有云部署文档.md:1247
msgid "virtual_ipaddress {"
msgstr ""

#: ../../语音服务专有云部署文档.md:1198 ../../语音服务专有云部署文档.md:1249
msgid "192.168.14.200 \\# vip地址，注意按实际情况修改"
msgstr ""

#: ../../语音服务专有云部署文档.md:1204
msgid "在slave机器上增加配置文件/etc/keepalived/keepalived.conf："
msgstr ""

#: ../../语音服务专有云部署文档.md:1235
msgid "priority 40 \\# 优先级，注意slave机器上改值要小于master机器"
msgstr ""

#: ../../语音服务专有云部署文档.md:1255
msgid "**注意上面配置中state、interface、priority、virtual_ipaddress字段的值要根据实际情况进行修改。**"
msgstr ""

#: ../../语音服务专有云部署文档.md:1259
msgid "\\# sudo service keepalived start"
msgstr ""

#: ../../语音服务专有云部署文档.md:1261
msgid "服务可用性检测"
msgstr ""

#: ../../语音服务专有云部署文档.md:1263
msgid "以上部署只是简单搭建了机器的可用性检测，如果需要对当前机器上服务进行检测，也可以通过keepalived进行判断，keepalived常用的健康检查方式健康检查方式一共有HTTP_GET、SSL_GET、TCP_CHECK、SMTP_CHECK和MISC_CHECK等，当然也可以自己写脚本进行判断。这里假设待检测的进程是XXX。则需要在/etc/keepalived/keepalived.conf文件中做一下修改："
msgstr ""

#: ../../语音服务专有云部署文档.md:1265
msgid "**###　新增　###**"
msgstr ""

#: ../../语音服务专有云部署文档.md:1267
msgid "vrrp_script chk_XXX {"
msgstr ""

#: ../../语音服务专有云部署文档.md:1269
msgid "script \\\"/etc/keepalived/check_XXX.sh\\\" \\# 服务检测并试图重启"
msgstr ""

#: ../../语音服务专有云部署文档.md:1271
msgid "interval 2 \\# 每2s检查一次"
msgstr ""

#: ../../语音服务专有云部署文档.md:1273
msgid "weight -5 \\# 检测失败（脚本返回非0）则优先级减少5个值"
msgstr ""

#: ../../语音服务专有云部署文档.md:1275
msgid "fall 3 \\# 如果连续失败次数达到此值，则认为服务器已down"
msgstr ""

#: ../../语音服务专有云部署文档.md:1277
msgid "rise 2 \\# 如果连续成功次数达到此值，则认为服务器已up，但不修改优先级"
msgstr ""

#: ../../语音服务专有云部署文档.md:1283
msgid "\\# \\... 略 \\..."
msgstr ""

#: ../../语音服务专有云部署文档.md:1285
msgid "###　新增　###"
msgstr ""

#: ../../语音服务专有云部署文档.md:1287
msgid "track_script { \\# 引用VRRP脚本，即在 vrrp_script 部分指定的名字。定期运行它们来改变优先级，并最终引发主备切换。"
msgstr ""

#: ../../语音服务专有云部署文档.md:1290
msgid "chk_XXX"
msgstr ""

#: ../../语音服务专有云部署文档.md:1296
msgid "自己根据实际业务编写如下脚本："
msgstr ""

#: ../../语音服务专有云部署文档.md:1298
msgid "**\\# cat /etc/keepalived/check_XXX.sh**"
msgstr ""

#: ../../语音服务专有云部署文档.md:1300
msgid "**#!/bin/bash**"
msgstr ""

#: ../../语音服务专有云部署文档.md:1302 ../../语音服务专有云部署文档.md:1312
msgid "counter=\\$(ps -C XXX \\--no-heading\\|wc -l)"
msgstr ""

#: ../../语音服务专有云部署文档.md:1304 ../../语音服务专有云部署文档.md:1314
#, python-brace-format
msgid "if \\[ \\\"\\${counter}\\\" = \\\"0\\\" \\]; then"
msgstr ""

#: ../../语音服务专有云部署文档.md:1306
msgid "/home/admin/XXX/bin/appctl start"
msgstr ""

#: ../../语音服务专有云部署文档.md:1308
msgid "./appctl start"
msgstr ""

#: ../../语音服务专有云部署文档.md:1310
msgid "sleep 2"
msgstr ""

#: ../../语音服务专有云部署文档.md:1316
msgid "/etc/rc.d/init.d/keepalived stop"
msgstr ""

#: ../../语音服务专有云部署文档.md:1318 ../../语音服务专有云部署文档.md:1320
msgid "fi"
msgstr ""

#: ../../语音服务专有云部署文档.md:1322
msgid "转写服务(可选)"
msgstr ""

#: ../../语音服务专有云部署文档.md:1324
msgid "FAQ"
msgstr ""

